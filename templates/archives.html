{% extends 'base.html' %}

{% block head %} 
<title>Archives</title> 
{% endblock %}

{% block body %}
{% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    {% endif %}
{% endwith %}

<div class="container-fluid" id="header">
    <h1>Archived Tasks<h1>
    <h4>You have successfully completed the following tasks:</h4>
</div>
<div class="container-fluid" id="table">
    {% if tasks %}
        <table class="table table-hover table-sm">
            <caption>List of completed tasks</caption>
            <thead class="table-light">
                <tr>
                    <th scope="col">Task</th>
                    <th scope="col">Date Completed</th>
                </tr>
            </thead>
            <tbody>
                {% for task in tasks %}
                <tr>
                    <td>{{ task.content }}</td>
                    <td>{{ task.date_completed.date() }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
            
    {% else %}
        <h1>Looks like you don't have any completed tasks :(</h1>
    {% endif %}
</div>
{% endblock  %}